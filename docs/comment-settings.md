# わんこめコメント表示設定ガイド

わんこめ（OneComme）アプリでのコメント表示設定とカスタマイズ方法をまとめたガイドです。

## 📋 目次

- [わんこめの基本設定](#わんこめの基本設定)
- [テンプレートの選択](#テンプレートの選択)
- [カスタムテンプレートの追加](#カスタムテンプレートの追加)
- [OBS Studio での設定](#obs-studio-での設定)
- [コメントの修正・管理](#コメントの修正管理)
- [トラブルシューティング](#トラブルシューティング)

---

## わんこめの基本設定

### 初回起動時

1. **わんこめアプリを起動**
   - macOS: アプリケーションフォルダから起動
   - Windows: インストールしたわんこめアプリを起動

2. **連携サービスを選択**
   - YouTube
   - Twitch
   - ニコニコ生放送
   - その他のサービス

3. **認証を完了**
   - 各サービスのアカウントでログイン
   - わんこめにアクセス権限を付与

### わんこめアプリのインターフェース

わんこめアプリは以下の主要な要素で構成されています。

- **コメント一覧**: 受信したコメントがリアルタイムで表示
- **テンプレート選択**: コメント表示のデザインを選択
- **設定**: わんこめの動作設定
- **プラグイン**: インストールされたプラグインの管理

---

## テンプレートの選択

### 公式テンプレート

わんこめには複数の公式テンプレートが用意されています。

#### テンプレートの選択手順

1. **わんこめアプリを起動**
2. **テンプレート選択ボタンをクリック**
3. **好きなテンプレートを選択**
   - シンプル
   - ネオン
   - レトロ
   - その他

4. **プレビューで確認**
5. **適用**

### テンプレートの特徴

#### シンプル

- 読みやすさ重視
- 軽量で高速
- カスタマイズしやすい

#### ネオン

- 光彩エフェクト
- 目立つ演出
- スパチャが華やか

#### レトロ

- レトロゲーム風
- ピクセルフォント
- ユニークな雰囲気

---

## カスタムテンプレートの追加

自作またはダウンロードしたテンプレートをわんこめに追加する方法です。

### テンプレートディレクトリ

```
~/Library/Application Support/onecomme/templates/
```

- macOS: 上記パス
- Windows: `%APPDATA%\onecomme\templates\` （要確認）

### 追加手順

#### 方法A: 手動でコピー

1. **テンプレートディレクトリに移動**
   ```bash
   cd ~/Library/Application\ Support/onecomme/templates/
   ```

2. **テンプレートフォルダをコピー**
   ```bash
   cp -r /path/to/your-template ./your-template
   ```

3. **わんこめアプリを再起動**

4. **テンプレート選択画面で新しいテンプレートを選択**

#### 方法B: わんこめアプリから追加

1. **わんこめアプリを起動**
2. **テンプレート選択画面を開く**
3. **「カスタムテンプレートを追加」ボタンをクリック**
4. **テンプレートフォルダを選択**
5. **適用**

### テンプレートの構成

カスタムテンプレートは以下のファイルを含む必要があります。

```
your-template/
├── index.html        # メインHTML（必須）
├── style.css         # カスタムCSS（必須）
├── script.js         # JavaScript（必須）
├── template.json     # テンプレート情報（必須）
└── thumb.png         # サムネイル画像（オプション）
```

**template.json の例**:

```json
{
  "name": "your-template",
  "author": "Your Name",
  "link": "https://github.com/your-name/your-template",
  "description": "Template description"
}
```

詳細は [CSS テンプレートカスタマイズガイド](./css-customization.md) を参照してください。

---

## OBS Studio での設定

### ブラウザソースの追加

1. **OBS Studio を起動**

2. **シーンを選択**

3. **ソースパネルの「+」をクリック**

4. **「ブラウザ」を選択**

5. **ソース名を入力**
   - 例: `わんこめコメント`

6. **URL を設定**

   #### わんこめローカルサーバー経由

   ```
   http://localhost:11180/
   ```

   - わんこめアプリが起動している必要がある
   - ポート番号は わんこめの設定 → 「ブラウザソース」で確認

   #### ローカルファイル経由

   ```
   file:///Users/your-name/Library/Application Support/onecomme/templates/your-template/index.html
   ```

   - テンプレートの絶対パスを指定
   - わんこめアプリとの接続は自動で行われる

7. **サイズを設定**
   - 幅: 1920px
   - 高さ: 1080px
   - （配信解像度に合わせて調整）

8. **「OK」をクリック**

### ブラウザソースの調整

#### 位置とサイズ

- ブラウザソースをドラッグして配置
- コーナーをドラッグしてサイズ変更

#### レイヤー順序

- ソースリストでドラッグして順序変更
- コメントを最前面に表示したい場合は一番下に配置

#### カスタム CSS（オプション）

ブラウザソースのプロパティで「カスタム CSS」を設定できます。

**例**:

```css
body {
  background: transparent !important;
}

.comment {
  font-size: 24px !important;
}
```

---

## コメントの修正・管理

### コメントの削除

#### わんこめアプリから削除

1. **わんこめアプリのコメント一覧を開く**
2. **削除したいコメントを右クリック**
3. **「削除」を選択**

#### OBS 画面から即座に反映

- わんこめアプリで削除すると、OBS 画面からもリアルタイムで削除されます

### コメントのフィルタリング

#### NG ワード設定

1. **わんこめアプリの設定を開く**
2. **「NG ワード」タブを選択**
3. **NG ワードを入力**
   - 例: `スパム`, `広告`, `不適切な言葉`
4. **保存**

#### ユーザーのブロック

1. **わんこめアプリのコメント一覧を開く**
2. **ブロックしたいユーザーのコメントを右クリック**
3. **「このユーザーをブロック」を選択**

### コメントの編集

#### わんこめアプリから編集

1. **わんこめアプリのコメント一覧を開く**
2. **編集したいコメントを右クリック**
3. **「編集」を選択**
4. **コメント内容を修正**
5. **保存**

#### 用途

- タイプミスの修正
- 不適切な部分のマスキング
- 読みやすくするための調整

---

## トラブルシューティング

### Q: コメントが表示されない

**確認事項**:

1. **わんこめアプリが起動しているか**
   - わんこめアプリを起動してください

2. **サービスに接続されているか**
   - わんこめアプリで「接続済み」と表示されているか確認

3. **OBS のブラウザソースの URL が正しいか**
   - `http://localhost:11180/` または正しいローカルファイルパス

4. **OBS のブラウザソースが表示されているか**
   - 目のアイコンが開いているか確認

5. **テンプレートが正しく読み込まれているか**
   - わんこめアプリのテンプレート選択画面で確認

**解決方法**:

- わんこめアプリを再起動
- OBS のブラウザソースを削除して再度追加
- OBS を再起動

### Q: コメントが遅れて表示される

**原因**:

- ネットワークの遅延
- わんこめアプリの負荷
- OBS のブラウザソースの処理負荷

**解決方法**:

1. **ネットワーク接続を確認**
2. **わんこめアプリの設定でバッファを調整**
3. **テンプレートを軽量なものに変更**
4. **OBS の設定で GPU を有効化**

### Q: 特定のコメントが表示されない

**原因**:

- NG ワードに引っかかっている
- ユーザーがブロックされている
- フィルタリング設定

**解決方法**:

1. **わんこめアプリの NG ワード設定を確認**
2. **ブロックリストを確認**
3. **フィルタリング設定を見直し**

### Q: スパチャの色が反映されない

**原因**:

- テンプレートがスパチャの色に対応していない

**解決方法**:

1. **スパチャ対応のテンプレートに変更**
2. **テンプレートをカスタマイズして色を反映**

詳細は [CSS テンプレートカスタマイズガイド](./css-customization.md) を参照してください。

### Q: 文字が小さすぎる / 大きすぎる

**解決方法**:

#### OBS のブラウザソースでサイズ調整

1. **ブラウザソースを右クリック → 「変換」 → 「画面に合わせる」**

#### カスタム CSS で調整

ブラウザソースのプロパティ → 「カスタム CSS」:

```css
.comment {
  font-size: 28px !important;  /* サイズを調整 */
}
```

#### テンプレートの CSS を直接編集

```css
/* style.css */
.message {
  font-size: 24px;  /* お好みのサイズに */
}
```

---

## 参加型機能の設定

わんこめの参加型機能を使用する場合の設定です。

### 参加型機能とは

視聴者がコメントで参加を表明し、配信者が参加者リストを管理できる機能です。

### 設定手順

1. **わんこめアプリの設定を開く**
2. **「参加型機能」タブを選択**
3. **「参加型機能を有効化」をチェック**
4. **参加コマンドを設定**
   - 例: `!join`, `参加`
5. **保存**

### 参加者リストの確認

1. **わんこめアプリの「参加者」タブを開く**
2. **参加者一覧が表示される**

### OBS での表示

参加人数を OBS に表示するには、`waiting-count` プラグインを使用します。

詳細は [waiting-count/README.md](../waiting-count/README.md) を参照してください。

---

## わんこめの設定

### 一般設定

- **起動時に自動で接続**: わんこめアプリ起動時に自動で配信サービスに接続
- **最小化時にトレイに格納**: アプリを最小化したときにシステムトレイに格納

### コメント表示設定

- **コメント表示時間**: コメントが画面に表示される時間（秒）
- **最大表示コメント数**: 同時に表示する最大コメント数
- **フォントサイズ**: コメントのフォントサイズ（テンプレートによっては無効）

### 通知設定

- **スパチャ通知**: スパチャ受信時に通知音を鳴らす
- **メンバーシップ通知**: メンバーシップ加入時に通知音を鳴らす

---

## 参考リンク

- [わんこめ公式サイト](https://onecomme.com)
- [わんこめテンプレート一覧](https://onecomme.com/generator/templates)
- [CSS テンプレートカスタマイズガイド](./css-customization.md)
- [プラグイン開発ガイド](./plugin-development.md)
- [OBS Studio](https://obsproject.com/ja)

---

**Happy Streaming!** 🎭
